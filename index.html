<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>단어 마스터</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- 헤더 섹션 -->
    <div class="header">
      <h1>단어 마스터</h1>
      <div class="user-menu">
        <span id="current-user">로그인 필요</span>
        <button onclick="handleUserAuth()" id="auth-btn">로그인</button>
        <button onclick="showStats()" id="stats-btn" class="hidden">통계</button>
        <button onclick="showUserManagement()" id="user-management-btn" class="hidden">사용자 관리</button>
      </div>
      <p id="total-words">전체 단어: 0개</p>
    </div>

    <!-- 메인 메뉴 -->
    <div id="main-menu" class="screen active">
      <div class="menu-section">
        <h2>난이도 선택</h2>
        <div class="difficulty-buttons">
          <button onclick="selectDifficulty('easy')" class="difficulty-easy">쉬움</button>
          <button onclick="selectDifficulty('normal')" class="difficulty-normal">보통</button>
          <button onclick="selectDifficulty('hard')" class="difficulty-hard">어려움</button>
        </div>

        <h2>학습 모드 선택</h2>
        <div class="category-grid">
          <button onclick="startQuiz('verb', false)">동사</button>
          <button onclick="startQuiz('noun', false)">명사</button>
          <button onclick="startQuiz('adjective', false)">형용사</button>
          <button onclick="startQuiz('adverb', false)">부사</button>
          <button onclick="startQuiz('phrase', false)">구문</button>
          <button onclick="startQuiz('mixed', false)">혼합</button>
          <button onclick="startReview()" class="review-btn">맞춤 복습</button>
        </div>

        <h2>문제 수 설정</h2>
        <select id="question-count" class="num-select">
          <option value="10" selected>10문제</option>
          <option value="20">20문제</option>
          <option value="30">30문제</option>
          <option value="50">50문제</option>
          <option value="100">100문제</option>
        </select>

        <h2>CSV 파일 업로드</h2>
        <input type="file" id="file-input" accept=".csv">
        <button onclick="uploadFile()">업로드</button>
      </div>
    </div>

    <!-- 퀴즈 화면 -->
    <div id="quiz-screen" class="screen hidden">
      <div class="quiz-header">
        <button onclick="goBack()" class="back-btn">돌아가기</button>
        <div class="status-box">
          <div class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
          </div>
          <span id="timer">시간: 0초</span>
          <span id="progress">진행: 0개 / 0개</span>
        </div>
      </div>
      <h2 id="word-display" class="word-display-area"></h2>
      <div id="options" class="options-grid"></div>
    </div>

    <!-- 어휘 관리 화면 -->
    <div id="manage-screen" class="screen hidden">
      <h2>어휘 관리</h2>
      <div class="manage-section">
        <h3>현재 어휘 목록</h3>
        <ul id="word-list"></ul>
      </div>
      <div class="manage-section">
        <h3>새 단어 추가</h3>
        <input type="text" id="new-word" placeholder="단어 입력">
        <input type="text" id="new-meaning" placeholder="의미 입력">
        <select id="new-category">
          <option value="verb">동사</option>
          <option value="noun">명사</option>
          <option value="adjective">형용사</option>
          <option value="adverb">부사</option>
          <option value="phrase">구문</option>
        </select>
        <button onclick="addWord()">추가</button>
      </div>
      <div class="manage-section">
        <h3>파일 업로드</h3>
        <input type="file" id="file-input" accept=".csv">
        <button onclick="uploadFile()">업로드</button>
      </div>
      <button onclick="goBack()" class="back-btn">돌아가기</button>
    </div>

    <!-- 사용자 관리 화면 -->
    <div id="user-management-screen" class="screen hidden">
      <h2>사용자 관리</h2>
      <div class="manage-section">
        <h3>사용자 추가</h3>
        <input type="text" id="new-username" placeholder="사용자 이름">
        <input type="password" id="new-password" placeholder="비밀번호">
        <button onclick="addUser()">추가</button>
      </div>
      <div class="manage-section">
        <h3>사용자 목록</h3>
        <ul id="user-list"></ul>
      </div>
      <button onclick="goBack()" class="back-btn">돌아가기</button>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>